import path from "node:path";
import { TemplateEngine } from "harpiats/template-engine";

const baseDir = process.cwd();

export const engine = new TemplateEngine({
  viewName: "page",
  useModules: true,
  path: {
    views: path.join(baseDir, "modules", "**", "pages"),
    layouts: path.join(baseDir, "resources", "layouts"),
    components: path.join(baseDir, "resources", "components"),
  },
});

engine.registerPlugin("checkEnv", (key, value) => process.env[key] === value);
engine.registerPlugin("serverPort", () => process.env.PORT || 3000);
